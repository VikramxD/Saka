2025-01-22 16:36:59 | INFO     | __main__:__init__:174 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: /home/jovyan/video-enhancer/scripts/hxh.mp4
)
2025-01-22 16:36:59 | ERROR    | __main__:<module>:574 - Error during video processing: Video processing failed with return code 2
2025-01-22 16:37:18 | INFO     | __main__:__init__:174 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: /home/jovyan/video-enhancer/scripts/hxh.mp4
)
2025-01-22 16:37:18 | ERROR    | __main__:<module>:574 - Error during video processing: Video processing failed with return code 2
2025-01-22 16:51:23 | INFO     | __main__:__init__:169 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: /home/jovyan/video-enhancer/scripts/hxh.mp4
)
2025-01-22 16:57:46 | INFO     | __main__:<module>:566 - Video processing completed: {
  "video_url": "/home/jovyan/video-enhancer/outputs/hxh/hxh_out.mp4",
  "input_resolution": {
    "width": 640,
    "height": 360
  },
  "output_resolution": {
    "width": 2560,
    "height": 1440
  },
  "processing_time": 73.21,
  "ram_usage_mb": 462.07,
  "model_settings": {
    "model_name": "realesr-animevideov3",
    "scale": 4,
    "tile": 0,
    "face_enhance": false,
    "fp32": false
  },
  "ssim_score": 0.948
}
2025-01-22 17:23:20 | INFO     | __main__:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: /home/jovyan/video-enhancer/scripts/hxh.mp4
)
2025-01-22 17:29:39 | INFO     | __main__:<module>:580 - Video processing completed: {
  "video_url": "/home/jovyan/video-enhancer/outputs/hxh/hxh_out.mp4",
  "input_resolution": {
    "width": 640,
    "height": 360
  },
  "output_resolution": {
    "width": 2560,
    "height": 1440
  },
  "processing_time": 68.14,
  "ram_usage_mb": 447.75,
  "model_settings": {
    "model_name": "realesr-animevideov3",
    "scale": 4,
    "tile": 0,
    "face_enhance": false,
    "fp32": false
  },
  "ssim_score": 0.948
}
2025-01-22 18:59:07 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: model_name='RealESRGAN_x4plus' device='cuda' tile_size=0 tile_pad=10 pre_pad=0 fp32=True scale=4 log_dir=PosixPath('../logs') model_path=None output_dir=PosixPath('../output')
2025-01-22 18:59:07 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 18:59:07 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:00:24 | ERROR    | __mp_main__:predict:164 - Processing failed
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.10/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 12
               └ <function _main at 0x7f343e781630>
  File "/usr/lib/python3.10/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f343e8dbbe0>
           └ <SpawnProcess name='SpawnProcess-3' parent=28071 started>
  File "/usr/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f343e8db250>
    └ <SpawnProcess name='SpawnProcess-3' parent=28071 started>
  File "/usr/lib/python3.10/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=28071 started>
    │    │        │    └ (<__mp_main__.VideoEnhancerAPI object at 0x7f343e7bae00>, None, 'cuda:0', 0, <AutoProxy[Queue] object, typeid 'Queue' at 0x7f...
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=28071 started>
    │    └ <function inference_worker at 0x7f343cb6a710>
    └ <SpawnProcess name='SpawnProcess-3' parent=28071 started>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/loops.py", line 84, in inference_worker
    loop(
    └ <litserve.loops.simple_loops.SingleLoop object at 0x7f3241b8f490>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/simple_loops.py", line 134, in __call__
    self.run_single_loop(lit_api, lit_spec, request_queue, response_queues, callback_runner)
    │    │               │        │         │              │                └ <litserve.callbacks.base.CallbackRunner object at 0x7f3241b8e740>
    │    │               │        │         │              └ [<AutoProxy[Queue] object, typeid 'Queue' at 0x7f3241b8f4c0>]
    │    │               │        │         └ <AutoProxy[Queue] object, typeid 'Queue' at 0x7f3241aed780>
    │    │               │        └ None
    │    │               └ <__mp_main__.VideoEnhancerAPI object at 0x7f343e7bae00>
    │    └ <function SingleLoop.run_single_loop at 0x7f343cb6a4d0>
    └ <litserve.loops.simple_loops.SingleLoop object at 0x7f3241b8f490>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/simple_loops.py", line 75, in run_single_loop
    y = _inject_context(
        └ <function _inject_context at 0x7f343cb04280>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/base.py", line 41, in _inject_context
    return func(*args, **kwargs)
           │     │       └ {}
           │     └ ({'video_base64': 'AAAAGGZ0eXBtcDQyAAAAAGlzb21tcDQyAAAjgG1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAAGJqAAEAAAEAAAAAAAAAAAAAAAABAA...
           └ <bound method VideoEnhancerAPI.predict of <__mp_main__.VideoEnhancerAPI object at 0x7f343e7bae00>>

> File "/home/jovyan/video-enhancer/api/serve_enhancer.py", line 141, in predict
    self.upscaler.settings.calculate_ssim = calculate_ssim
    │    │        │                         └ True
    │    │        └ RealESRGANSettings(model_name='RealESRGAN_x4plus', device='cuda', tile_size=0, tile_pad=10, pre_pad=0, fp32=True, scale=4, lo...
    │    └ <scripts.realesrgan.VideoUpscaler object at 0x7f343e7bae30>
    └ <__mp_main__.VideoEnhancerAPI object at 0x7f343e7bae00>

  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/pydantic/main.py", line 925, in __setattr__
    raise ValueError(f'"{self.__class__.__name__}" object has no field "{name}"')

ValueError: "RealESRGANSettings" object has no field "calculate_ssim"
2025-01-22 19:01:33 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: model_name='RealESRGAN_x4plus' device='cuda' tile_size=0 tile_pad=10 pre_pad=0 fp32=True scale=4 log_dir=PosixPath('../logs') model_path=None output_dir=PosixPath('../output') calculate_ssim=False
2025-01-22 19:01:33 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:01:33 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:02:14 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: model_name='RealESRGAN_x4plus' device='cuda' tile_size=0 tile_pad=10 pre_pad=0 fp32=True scale=4 log_dir=PosixPath('../logs') model_path=None output_dir=PosixPath('../output') calculate_ssim=False
2025-01-22 19:02:14 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:02:14 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:02:33 | ERROR    | __mp_main__:predict:164 - Processing failed
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.10/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 12
               └ <function _main at 0x7fd83a1cd630>
  File "/usr/lib/python3.10/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7fd83a323be0>
           └ <SpawnProcess name='SpawnProcess-3' parent=29809 started>
  File "/usr/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7fd83a323250>
    └ <SpawnProcess name='SpawnProcess-3' parent=29809 started>
  File "/usr/lib/python3.10/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=29809 started>
    │    │        │    └ (<__mp_main__.VideoEnhancerAPI object at 0x7fd83a206e00>, None, 'cuda:0', 0, <AutoProxy[Queue] object, typeid 'Queue' at 0x7f...
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=29809 started>
    │    └ <function inference_worker at 0x7fd8385ca710>
    └ <SpawnProcess name='SpawnProcess-3' parent=29809 started>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/loops.py", line 84, in inference_worker
    loop(
    └ <litserve.loops.simple_loops.SingleLoop object at 0x7fd63d573520>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/simple_loops.py", line 134, in __call__
    self.run_single_loop(lit_api, lit_spec, request_queue, response_queues, callback_runner)
    │    │               │        │         │              │                └ <litserve.callbacks.base.CallbackRunner object at 0x7fd63d5727d0>
    │    │               │        │         │              └ [<AutoProxy[Queue] object, typeid 'Queue' at 0x7fd63d573550>]
    │    │               │        │         └ <AutoProxy[Queue] object, typeid 'Queue' at 0x7fd63d4d1810>
    │    │               │        └ None
    │    │               └ <__mp_main__.VideoEnhancerAPI object at 0x7fd83a206e00>
    │    └ <function SingleLoop.run_single_loop at 0x7fd8385ca4d0>
    └ <litserve.loops.simple_loops.SingleLoop object at 0x7fd63d573520>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/simple_loops.py", line 75, in run_single_loop
    y = _inject_context(
        └ <function _inject_context at 0x7fd838564280>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/base.py", line 41, in _inject_context
    return func(*args, **kwargs)
           │     │       └ {}
           │     └ ({'video_base64': 'AAAAGGZ0eXBtcDQyAAAAAGlzb21tcDQyAAAjgG1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAAGJqAAEAAAEAAAAAAAAAAAAAAAABAA...
           └ <bound method VideoEnhancerAPI.predict of <__mp_main__.VideoEnhancerAPI object at 0x7fd83a206e00>>

> File "/home/jovyan/video-enhancer/api/serve_enhancer.py", line 142, in predict
    result = self.upscaler.process_video(input_path)
             │    │        │             └ PosixPath('/tmp/tmp3fd5njdy.mp4')
             │    │        └ <function VideoUpscaler.process_video at 0x7fd63da7e560>
             │    └ <scripts.realesrgan.VideoUpscaler object at 0x7fd83a206e30>
             └ <__mp_main__.VideoEnhancerAPI object at 0x7fd83a206e00>

  File "/home/jovyan/video-enhancer/scripts/realesrgan.py", line 400, in process_video
    output_width = input_width * self.settings.scale_factor
                   │             │    └ RealESRGANSettings(model_name='RealESRGAN_x4plus', device='cuda', tile_size=0, tile_pad=10, pre_pad=0, fp32=True, scale=4, lo...
                   │             └ <scripts.realesrgan.VideoUpscaler object at 0x7fd83a206e30>
                   └ 640

  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/pydantic/main.py", line 891, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')

AttributeError: 'RealESRGANSettings' object has no attribute 'scale_factor'
2025-01-22 19:08:04 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-22 19:08:04 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:08:04 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:14:27 | INFO     | api.storage:upload_video:27 - Uploading video (11229431 bytes) to videos/18f87472-ce66-40f9-a84a-0452c2ac850c/enhanced.mp4
2025-01-22 19:14:30 | INFO     | api.storage:upload_video:39 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/18f87472-ce66-40f9-a84a-0452c2ac850c/enhanced.mp4
2025-01-22 19:14:30 | ERROR    | __mp_main__:predict:164 - Processing failed
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.10/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 12
               └ <function _main at 0x7faba0665630>
  File "/usr/lib/python3.10/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7faba07bfbe0>
           └ <SpawnProcess name='SpawnProcess-3' parent=31645 started>
  File "/usr/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7faba07bf250>
    └ <SpawnProcess name='SpawnProcess-3' parent=31645 started>
  File "/usr/lib/python3.10/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=31645 started>
    │    │        │    └ (<__mp_main__.VideoEnhancerAPI object at 0x7faba069ee00>, None, 'cuda:0', 0, <AutoProxy[Queue] object, typeid 'Queue' at 0x7f...
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=31645 started>
    │    └ <function inference_worker at 0x7fab9ea4e710>
    └ <SpawnProcess name='SpawnProcess-3' parent=31645 started>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/loops.py", line 84, in inference_worker
    loop(
    └ <litserve.loops.simple_loops.SingleLoop object at 0x7fa9a3a77280>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/simple_loops.py", line 134, in __call__
    self.run_single_loop(lit_api, lit_spec, request_queue, response_queues, callback_runner)
    │    │               │        │         │              │                └ <litserve.callbacks.base.CallbackRunner object at 0x7fa9a3a76530>
    │    │               │        │         │              └ [<AutoProxy[Queue] object, typeid 'Queue' at 0x7fa9a3a772b0>]
    │    │               │        │         └ <AutoProxy[Queue] object, typeid 'Queue' at 0x7fa9a39e5420>
    │    │               │        └ None
    │    │               └ <__mp_main__.VideoEnhancerAPI object at 0x7faba069ee00>
    │    └ <function SingleLoop.run_single_loop at 0x7fab9ea4e4d0>
    └ <litserve.loops.simple_loops.SingleLoop object at 0x7fa9a3a77280>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/simple_loops.py", line 75, in run_single_loop
    y = _inject_context(
        └ <function _inject_context at 0x7fab9e9e8280>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/base.py", line 41, in _inject_context
    return func(*args, **kwargs)
           │     │       └ {}
           │     └ ({'video_base64': 'AAAAGGZ0eXBtcDQyAAAAAGlzb21tcDQyAAAjgG1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAAGJqAAEAAAEAAAAAAAAAAAAAAAABAA...
           └ <bound method VideoEnhancerAPI.predict of <__mp_main__.VideoEnhancerAPI object at 0x7faba069ee00>>

> File "/home/jovyan/video-enhancer/api/serve_enhancer.py", line 156, in predict
    "processing_time_sec": result["processing_time_sec"],
                           └ {'video_url': '/home/jovyan/video-enhancer/outputs/tmp4t0uisyv/tmp4t0uisyv_out.mp4', 'input_resolution': {'width': 640, 'heig...

KeyError: 'processing_time_sec'
2025-01-22 19:20:27 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-22 19:20:27 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-22 19:20:27 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-22 19:20:27 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:20:27 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:20:27 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:20:27 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:20:27 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-22 19:20:27 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:20:27 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:20:28 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:20:28 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:20:57 | ERROR    | __mp_main__:predict:164 - Processing failed
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/usr/lib/python3.10/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 3
               │     └ 12
               └ <function _main at 0x7f7a503f5630>
  File "/usr/lib/python3.10/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 3
           │    └ <function BaseProcess._bootstrap at 0x7f7a5054bbe0>
           └ <SpawnProcess name='SpawnProcess-3' parent=35440 started>
  File "/usr/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x7f7a5054b250>
    └ <SpawnProcess name='SpawnProcess-3' parent=35440 started>
  File "/usr/lib/python3.10/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=35440 started>
    │    │        │    └ (<__mp_main__.VideoEnhancerAPI object at 0x7f7a5042ee00>, None, 'cuda:0', 0, <AutoProxy[Queue] object, typeid 'Queue' at 0x7f...
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=35440 started>
    │    └ <function inference_worker at 0x7f7a4e8da710>
    └ <SpawnProcess name='SpawnProcess-3' parent=35440 started>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/loops.py", line 84, in inference_worker
    loop(
    └ <litserve.loops.simple_loops.BatchedLoop object at 0x7f7853777670>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/simple_loops.py", line 245, in __call__
    self.run_batched_loop(
    │    └ <function BatchedLoop.run_batched_loop at 0x7f7a4e8da5f0>
    └ <litserve.loops.simple_loops.BatchedLoop object at 0x7f7853777670>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/simple_loops.py", line 191, in run_batched_loop
    y = _inject_context(contexts, lit_api.predict, x)
        │               │         │       │        └ [{'video_base64': 'AAAAGGZ0eXBtcDQyAAAAAGlzb21tcDQyAAAjgG1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAAGJqAAEAAAEAAAAAAAAAAAAAAAABAA...
        │               │         │       └ <function VideoEnhancerAPI.predict at 0x7f78536fca60>
        │               │         └ <__mp_main__.VideoEnhancerAPI object at 0x7f7a5042ee00>
        │               └ [{}]
        └ <function _inject_context at 0x7f7a4e874280>
  File "/home/jovyan/video-enhancer/.venv/lib/python3.10/site-packages/litserve/loops/base.py", line 41, in _inject_context
    return func(*args, **kwargs)
           │     │       └ {}
           │     └ ([{'video_base64': 'AAAAGGZ0eXBtcDQyAAAAAGlzb21tcDQyAAAjgG1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAAGJqAAEAAAEAAAAAAAAAAAAAAAABA...
           └ <bound method VideoEnhancerAPI.predict of <__mp_main__.VideoEnhancerAPI object at 0x7f7a5042ee00>>

> File "/home/jovyan/video-enhancer/api/serve_enhancer.py", line 119, in predict
    video_base64 = request.get("video_base64")
                   └ [{'video_base64': 'AAAAGGZ0eXBtcDQyAAAAAGlzb21tcDQyAAAjgG1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAAGJqAAEAAAEAAAAAAAAAAAAAAAABAA...

AttributeError: 'list' object has no attribute 'get'
2025-01-22 19:22:52 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-22 19:22:52 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-22 19:22:52 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:22:52 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:22:52 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:22:52 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:22:52 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-22 19:22:52 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-22 19:22:52 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:22:52 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:22:52 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:22:52 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:29:22 | INFO     | api.storage:upload_video:27 - Uploading video (11229431 bytes) to videos/a63c8d5b-8f34-491b-9e38-8a0e376df506/enhanced.mp4
2025-01-22 19:29:23 | INFO     | api.storage:upload_video:39 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/a63c8d5b-8f34-491b-9e38-8a0e376df506/enhanced.mp4
2025-01-22 19:30:49 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-22 19:30:49 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-22 19:30:49 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-22 19:30:49 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-22 19:30:49 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:30:49 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:30:49 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:30:49 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:30:49 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:30:49 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:30:49 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-22 19:30:49 | INFO     | __mp_main__:setup:96 - Video Enhancer API initialized on device: cuda:0
2025-01-22 19:37:55 | INFO     | api.storage:upload_video:27 - Uploading video (11229431 bytes) to videos/e8c5cd4b-0f9d-4cff-a98b-eab158c365fe/enhanced.mp4
2025-01-22 19:37:55 | INFO     | api.storage:upload_video:39 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/e8c5cd4b-0f9d-4cff-a98b-eab158c365fe/enhanced.mp4
2025-01-25 14:10:40 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:10:40 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:10:40 | INFO     | scripts.realesrgan:setup_realesrgan:105 - Removing empty Real-ESRGAN directory...
2025-01-25 14:10:40 | INFO     | scripts.realesrgan:setup_realesrgan:105 - Removing empty Real-ESRGAN directory...
2025-01-25 14:10:40 | ERROR    | __main__:setup:133 - Failed to initialize API: [Errno 2] No such file or directory: '/home/jovyan/video-enhancer/Real-ESRGAN'
2025-01-25 14:10:40 | INFO     | scripts.realesrgan:setup_realesrgan:112 - Cloning Real-ESRGAN repository...
2025-01-25 14:10:40 | ERROR    | __main__:run_consumer:387 - Consumer failed: [Errno 2] No such file or directory: '/home/jovyan/video-enhancer/Real-ESRGAN'
2025-01-25 14:10:42 | INFO     | scripts.realesrgan:setup_realesrgan:129 - Installing dependencies with uv...
2025-01-25 14:10:42 | INFO     | scripts.realesrgan:setup_realesrgan:138 - Installing Real-ESRGAN in editable mode...
2025-01-25 14:10:42 | SUCCESS  | scripts.realesrgan:setup_realesrgan:146 - Real-ESRGAN setup completed successfully
2025-01-25 14:10:42 | INFO     | __main__:setup:121 - Initialized video upscaler on cuda:0
2025-01-25 14:10:42 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:10:42 | INFO     | __main__:setup:127 - Initialized S3 storage
2025-01-25 14:11:30 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:11:30 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:11:30 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:11:30 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:11:30 | INFO     | __main__:setup:121 - Initialized video upscaler on cuda:0
2025-01-25 14:11:30 | INFO     | __main__:setup:121 - Initialized video upscaler on cuda:0
2025-01-25 14:11:31 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:11:31 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:11:31 | INFO     | __main__:setup:127 - Initialized S3 storage
2025-01-25 14:11:31 | INFO     | __main__:setup:127 - Initialized S3 storage
2025-01-25 14:11:31 | INFO     | api.rabbitmq_handler:consume_tasks:179 - Started consuming from queue: video_tasks.tasks
2025-01-25 14:12:47 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:12:47 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:12:47 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:12:47 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:12:47 | INFO     | __main__:setup:121 - Initialized video upscaler on cuda:0
2025-01-25 14:12:47 | INFO     | __main__:setup:121 - Initialized video upscaler on cuda:0
2025-01-25 14:12:47 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:12:47 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:12:47 | INFO     | __main__:setup:127 - Initialized S3 storage
2025-01-25 14:12:47 | INFO     | __main__:setup:127 - Initialized S3 storage
2025-01-25 14:12:47 | INFO     | api.rabbitmq_handler:consume_tasks:179 - Started consuming from queue: video_tasks.tasks
2025-01-25 14:13:10 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:13:10 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:13:10 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:13:10 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:13:10 | INFO     | __main__:setup:121 - Initialized video upscaler on cuda:0
2025-01-25 14:13:10 | INFO     | __main__:setup:121 - Initialized video upscaler on cuda:0
2025-01-25 14:13:10 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:13:10 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:13:10 | INFO     | __main__:setup:127 - Initialized S3 storage
2025-01-25 14:13:10 | INFO     | __main__:setup:127 - Initialized S3 storage
2025-01-25 14:13:10 | INFO     | api.rabbitmq_handler:consume_tasks:179 - Started consuming from queue: video_tasks.tasks
2025-01-25 14:14:19 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:14:19 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:14:19 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:14:19 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:14:19 | INFO     | __main__:setup:121 - Initialized video upscaler on cuda:0
2025-01-25 14:14:19 | INFO     | __main__:setup:121 - Initialized video upscaler on cuda:0
2025-01-25 14:14:19 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:14:19 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:14:19 | INFO     | __main__:setup:127 - Initialized S3 storage
2025-01-25 14:14:19 | INFO     | __main__:setup:127 - Initialized S3 storage
2025-01-25 14:14:19 | INFO     | api.rabbitmq_handler:consume_tasks:179 - Started consuming from queue: video_tasks.tasks
2025-01-25 14:21:40 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:21:40 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:21:40 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:21:40 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:21:40 | INFO     | __main__:setup:121 - Initialized video upscaler on cuda:0
2025-01-25 14:21:40 | INFO     | __main__:setup:121 - Initialized video upscaler on cuda:0
2025-01-25 14:21:40 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:21:40 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:21:40 | INFO     | __main__:setup:127 - Initialized S3 storage
2025-01-25 14:21:40 | INFO     | __main__:setup:127 - Initialized S3 storage
2025-01-25 14:21:40 | INFO     | api.rabbitmq_handler:consume_tasks:179 - Started consuming from queue: video_tasks.tasks
2025-01-25 14:23:21 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:23:21 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:23:21 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:23:21 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:23:21 | INFO     | __main__:setup:135 - Initialized video upscaler on cuda:0
2025-01-25 14:23:21 | INFO     | __main__:setup:135 - Initialized video upscaler on cuda:0
2025-01-25 14:23:21 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:23:21 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:23:21 | INFO     | __main__:setup:141 - Initialized S3 storage
2025-01-25 14:23:21 | INFO     | __main__:setup:141 - Initialized S3 storage
2025-01-25 14:23:21 | INFO     | api.rabbitmq_handler:consume_tasks:179 - Started consuming from queue: video_tasks.tasks
2025-01-25 14:26:22 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:26:22 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:26:22 | INFO     | __main__:setup:158 - Initialized video upscaler on cuda:0
2025-01-25 14:26:22 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:26:22 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:26:22 | INFO     | __main__:setup:158 - Initialized video upscaler on cuda:0
2025-01-25 14:26:22 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:26:22 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:26:22 | INFO     | __main__:setup:164 - Initialized S3 storage
2025-01-25 14:26:22 | INFO     | __main__:setup:164 - Initialized S3 storage
2025-01-25 14:26:22 | INFO     | api.rabbitmq_handler:consume_tasks:179 - Started consuming from queue: video_tasks.tasks
2025-01-25 14:27:39 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:27:39 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:27:39 | INFO     | __mp_main__:setup:83 - Initialized video upscaler on cuda:0
2025-01-25 14:27:39 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:27:39 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:27:39 | INFO     | __mp_main__:setup:83 - Initialized video upscaler on cuda:0
2025-01-25 14:27:39 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:27:39 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:27:39 | INFO     | __mp_main__:setup:83 - Initialized video upscaler on cuda:0
2025-01-25 14:27:39 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:27:39 | INFO     | __mp_main__:setup:89 - Initialized S3 storage
2025-01-25 14:27:39 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:27:39 | INFO     | __mp_main__:setup:89 - Initialized S3 storage
2025-01-25 14:27:39 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:27:39 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:27:39 | INFO     | __mp_main__:setup:83 - Initialized video upscaler on cuda:0
2025-01-25 14:27:39 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:27:39 | INFO     | __mp_main__:setup:89 - Initialized S3 storage
2025-01-25 14:27:39 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:27:39 | INFO     | __mp_main__:setup:89 - Initialized S3 storage
2025-01-25 14:30:07 | ERROR    | __mp_main__:decode_request:122 - Error decoding request: 'dict' object has no attribute 'method'
2025-01-25 14:31:10 | ERROR    | __mp_main__:decode_request:122 - Error decoding request: 'dict' object has no attribute 'method'
2025-01-25 14:31:21 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:31:21 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:31:21 | INFO     | __mp_main__:setup:83 - Initialized video upscaler on cuda:0
2025-01-25 14:31:21 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:31:21 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:31:21 | INFO     | __mp_main__:setup:83 - Initialized video upscaler on cuda:0
2025-01-25 14:31:21 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:31:21 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:31:21 | INFO     | __mp_main__:setup:83 - Initialized video upscaler on cuda:0
2025-01-25 14:31:21 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:31:21 | INFO     | __mp_main__:setup:89 - Initialized S3 storage
2025-01-25 14:31:21 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:31:21 | INFO     | __mp_main__:setup:89 - Initialized S3 storage
2025-01-25 14:31:21 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:31:21 | INFO     | __mp_main__:setup:89 - Initialized S3 storage
2025-01-25 14:31:21 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:31:21 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:31:21 | INFO     | __mp_main__:setup:83 - Initialized video upscaler on cuda:0
2025-01-25 14:31:21 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:31:21 | INFO     | __mp_main__:setup:89 - Initialized S3 storage
2025-01-25 14:31:27 | ERROR    | __mp_main__:decode_request:122 - Error decoding request: No video data in request
2025-01-25 14:31:53 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:31:53 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:31:53 | INFO     | __mp_main__:setup:83 - Initialized video upscaler on cuda:0
2025-01-25 14:31:53 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:31:53 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:31:53 | INFO     | __mp_main__:setup:83 - Initialized video upscaler on cuda:0
2025-01-25 14:31:54 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:31:54 | INFO     | __mp_main__:setup:89 - Initialized S3 storage
2025-01-25 14:31:54 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:31:54 | INFO     | __mp_main__:setup:89 - Initialized S3 storage
2025-01-25 14:31:54 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:31:54 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:31:54 | INFO     | __mp_main__:setup:83 - Initialized video upscaler on cuda:0
2025-01-25 14:31:54 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:31:54 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:31:54 | INFO     | __mp_main__:setup:83 - Initialized video upscaler on cuda:0
2025-01-25 14:31:54 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:31:54 | INFO     | __mp_main__:setup:89 - Initialized S3 storage
2025-01-25 14:31:54 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:31:54 | INFO     | __mp_main__:setup:89 - Initialized S3 storage
2025-01-25 14:32:47 | ERROR    | __mp_main__:decode_request:122 - Error decoding request: No video data in request
2025-01-25 14:38:05 | ERROR    | __mp_main__:decode_request:122 - Error decoding request: No video data in request
2025-01-25 14:38:24 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:38:24 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:38:24 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:38:24 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:38:24 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:38:24 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:38:24 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:38:24 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:38:24 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:38:24 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:38:24 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:38:24 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:38:24 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:38:24 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:38:24 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:38:24 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:38:24 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:38:24 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:38:25 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:38:25 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:38:30 | ERROR    | __mp_main__:decode_request:122 - Error decoding request: No input field in request
2025-01-25 14:40:02 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:40:02 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:40:02 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:40:02 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:40:02 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:40:02 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:40:02 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:40:02 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:40:02 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:40:02 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:40:02 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:40:02 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:40:02 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:40:02 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:40:02 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:40:02 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:40:02 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:40:02 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:40:02 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:40:02 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:40:06 | ERROR    | __mp_main__:decode_request:102 - Error decoding request: 'input'
2025-01-25 14:41:49 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:41:49 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:41:49 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:41:49 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:41:49 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:41:49 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:41:49 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:41:49 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:41:49 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:41:49 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:41:49 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:41:49 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:41:49 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:41:49 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:41:49 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:41:49 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:41:49 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:41:49 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:41:49 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:41:49 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:43:41 | ERROR    | __mp_main__:predict:157 - Error processing video: 'list' object has no attribute 'get'
2025-01-25 14:43:50 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:43:50 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:43:50 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:43:50 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:43:50 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:43:50 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:43:50 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:43:50 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:43:50 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:43:50 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:43:50 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:43:50 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:43:50 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:43:50 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:43:50 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:43:50 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:43:50 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:43:50 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:43:50 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:43:50 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:43:52 | ERROR    | __mp_main__:predict:157 - Error processing video: 'list' object has no attribute 'get'
2025-01-25 14:45:20 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:45:20 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:45:20 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:45:20 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:45:20 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:45:20 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:45:20 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:45:20 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:45:20 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:45:21 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:45:21 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:45:21 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:45:21 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:45:21 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:45:21 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:45:21 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:45:21 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:45:21 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:45:21 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:45:21 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:45:27 | ERROR    | __mp_main__:predict:159 - Error processing video: VideoUpscaler.process_video() got an unexpected keyword argument 'calculate_ssim'
2025-01-25 14:46:37 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:46:37 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:46:37 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:46:37 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:46:37 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:46:37 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:46:37 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:46:37 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:46:37 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:46:37 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:46:37 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:46:37 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 14:46:37 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 14:46:37 | INFO     | __mp_main__:setup:84 - Initialized video upscaler on cuda:0
2025-01-25 14:46:37 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:46:37 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:46:37 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:46:37 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:46:37 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 14:46:37 | INFO     | __mp_main__:setup:90 - Initialized S3 storage
2025-01-25 14:46:51 | ERROR    | scripts.realesrgan:process_video:502 - Real-ESRGAN error: raise Error('ffprobe', out, err)
2025-01-25 14:46:51 | ERROR    | scripts.realesrgan:process_video:502 - Real-ESRGAN error: ffmpeg._run.Error: ffprobe error (see stderr output for detail)
2025-01-25 14:46:52 | ERROR    | __mp_main__:predict:166 - Error processing video: Video processing failed with return code 1
2025-01-25 15:11:41 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:11:41 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:11:41 | INFO     | __mp_main__:setup:90 - Initialized video upscaler on cuda:0
2025-01-25 15:11:41 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:11:41 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:11:41 | INFO     | __mp_main__:setup:90 - Initialized video upscaler on cuda:0
2025-01-25 15:11:41 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:11:41 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:11:41 | INFO     | __mp_main__:setup:90 - Initialized video upscaler on cuda:0
2025-01-25 15:11:41 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:11:41 | INFO     | __mp_main__:setup:96 - Initialized S3 storage
2025-01-25 15:11:41 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:11:41 | INFO     | __mp_main__:setup:96 - Initialized S3 storage
2025-01-25 15:11:41 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:11:41 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:11:41 | INFO     | __mp_main__:setup:90 - Initialized video upscaler on cuda:0
2025-01-25 15:11:41 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:11:41 | INFO     | __mp_main__:setup:96 - Initialized S3 storage
2025-01-25 15:11:41 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:11:41 | INFO     | __mp_main__:setup:96 - Initialized S3 storage
2025-01-25 15:11:45 | INFO     | __mp_main__:predict:134 - Processing video of size 1.5MB
2025-01-25 15:15:34 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:15:34 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:15:34 | INFO     | __mp_main__:setup:90 - Initialized video upscaler on cuda:0
2025-01-25 15:15:34 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:15:34 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:15:34 | INFO     | __mp_main__:setup:90 - Initialized video upscaler on cuda:0
2025-01-25 15:15:34 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:15:34 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:15:34 | INFO     | __mp_main__:setup:90 - Initialized video upscaler on cuda:0
2025-01-25 15:15:34 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:15:34 | INFO     | __mp_main__:setup:96 - Initialized S3 storage
2025-01-25 15:15:34 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:15:34 | INFO     | __mp_main__:setup:96 - Initialized S3 storage
2025-01-25 15:15:34 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:15:34 | INFO     | __mp_main__:setup:96 - Initialized S3 storage
2025-01-25 15:15:34 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:15:34 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:15:34 | INFO     | __mp_main__:setup:90 - Initialized video upscaler on cuda:0
2025-01-25 15:15:34 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:15:34 | INFO     | __mp_main__:setup:96 - Initialized S3 storage
2025-01-25 15:15:41 | INFO     | __mp_main__:predict:134 - Processing video of size 1.5MB
2025-01-25 15:19:33 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:19:33 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:19:33 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:19:33 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:19:33 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:19:33 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:19:33 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:19:34 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:19:34 | INFO     | __mp_main__:setup:84 - Initialized API with device: cuda:0
2025-01-25 15:19:34 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:19:34 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:19:34 | INFO     | __mp_main__:setup:84 - Initialized API with device: cuda:0
2025-01-25 15:19:34 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:19:34 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:19:34 | INFO     | __mp_main__:setup:84 - Initialized API with device: cuda:0
2025-01-25 15:19:34 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:19:34 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:19:34 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:19:34 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:19:34 | INFO     | __mp_main__:setup:84 - Initialized API with device: cuda:0
2025-01-25 15:19:39 | INFO     | api.rabbitmq_handler:publish_task:127 - Published task: cd997cf4-52be-49a4-ab38-2eef6c3c7720
2025-01-25 15:22:53 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:22:53 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:22:53 | INFO     | __main__:main:300 - Starting API server...
2025-01-25 15:22:53 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:22:53 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:22:53 | INFO     | __main__:setup:84 - Initialized API with device: cpu
2025-01-25 15:22:53 | INFO     | __main__:run_consumer:250 - Starting Video Enhancer in consumer mode...
2025-01-25 15:22:53 | INFO     | api.rabbitmq_handler:consume_tasks:179 - Started consuming from queue: video_tasks.tasks
2025-01-25 15:22:53 | INFO     | __main__:process_video_task:152 - Processing video of size 1.5MB
2025-01-25 15:22:55 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:22:55 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:22:55 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:22:55 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:22:56 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:22:56 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:22:56 | INFO     | __mp_main__:setup:84 - Initialized API with device: cuda:0
2025-01-25 15:22:56 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:22:56 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:22:56 | INFO     | __mp_main__:setup:84 - Initialized API with device: cuda:0
2025-01-25 15:22:56 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:22:56 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:22:56 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:22:56 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:22:56 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:22:56 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:22:56 | INFO     | __mp_main__:setup:84 - Initialized API with device: cuda:0
2025-01-25 15:22:56 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:22:56 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:22:56 | INFO     | __mp_main__:setup:84 - Initialized API with device: cuda:0
2025-01-25 15:23:18 | INFO     | api.rabbitmq_handler:publish_task:127 - Published task: 4a3d2cd0-2374-4d5a-ae30-95591be45520
2025-01-25 15:28:24 | INFO     | api.rabbitmq_handler:publish_task:127 - Published task: fa16e4da-90f5-40ff-ac90-158d25505721
2025-01-25 15:29:15 | ERROR    | __main__:process_video_task:205 - Error processing video: stat: path should be string, bytes, os.PathLike or integer, not dict
2025-01-25 15:29:15 | INFO     | __main__:process_video_task:152 - Processing video of size 1.5MB
2025-01-25 15:31:12 | INFO     | api.rabbitmq_handler:publish_task:127 - Published task: 8ebf7655-52b6-4ea3-b082-28680e609cb9
2025-01-25 15:31:58 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:31:58 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:31:58 | INFO     | __main__:main:318 - Starting API server...
2025-01-25 15:31:59 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:31:59 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:31:59 | INFO     | __main__:setup:84 - Initialized API with device: cpu
2025-01-25 15:31:59 | INFO     | __main__:run_consumer:268 - Starting Video Enhancer in consumer mode...
2025-01-25 15:31:59 | INFO     | api.rabbitmq_handler:consume_tasks:179 - Started consuming from queue: video_tasks.tasks
2025-01-25 15:31:59 | INFO     | __main__:process_video_task:189 - Processing video of size 1.5MB
2025-01-25 15:32:01 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:32:01 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:32:01 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:32:01 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:32:01 | INFO     | __mp_main__:setup:84 - Initialized API with device: cuda:0
2025-01-25 15:32:01 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:32:01 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:32:01 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:32:01 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:32:01 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:32:01 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:32:01 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:32:01 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:32:01 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:32:01 | INFO     | __mp_main__:setup:84 - Initialized API with device: cuda:0
2025-01-25 15:32:01 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:32:01 | INFO     | __mp_main__:setup:84 - Initialized API with device: cuda:0
2025-01-25 15:32:01 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:32:01 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:32:01 | INFO     | __mp_main__:setup:84 - Initialized API with device: cuda:0
2025-01-25 15:32:09 | INFO     | api.rabbitmq_handler:publish_task:127 - Published task: b9140eaa-a4a1-4faf-8596-d10b13074894
2025-01-25 15:33:11 | INFO     | api.rabbitmq_handler:publish_task:127 - Published task: dd7a51be-98b5-4f54-ace7-8ce7b55d4acf
2025-01-25 15:33:51 | INFO     | api.rabbitmq_handler:publish_task:127 - Published task: 10697949-23cd-423e-9db0-7e1970b25414
2025-01-25 15:44:11 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:44:11 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:44:11 | INFO     | __main__:main:332 - Starting API server...
2025-01-25 15:44:11 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:44:11 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:44:11 | INFO     | __main__:setup:85 - Initialized API with device: cpu
2025-01-25 15:44:11 | INFO     | __main__:run_consumer:278 - Starting Video Enhancer in consumer mode...
2025-01-25 15:44:11 | INFO     | api.rabbitmq_handler:consume_tasks:179 - Started consuming from queue: video_tasks.tasks
2025-01-25 15:44:11 | INFO     | __main__:process_video_task:199 - Processing video of size 1.5MB
2025-01-25 15:44:13 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:44:13 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:44:13 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:44:13 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:44:13 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:44:13 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:44:13 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:44:13 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:44:13 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:44:13 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:44:13 | INFO     | __mp_main__:setup:85 - Initialized API with device: cuda:0
2025-01-25 15:44:13 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:44:13 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:44:13 | INFO     | __mp_main__:setup:85 - Initialized API with device: cuda:0
2025-01-25 15:44:13 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:44:13 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:44:13 | INFO     | __mp_main__:setup:85 - Initialized API with device: cuda:0
2025-01-25 15:44:13 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:44:13 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:44:13 | INFO     | __mp_main__:setup:85 - Initialized API with device: cuda:0
2025-01-25 15:44:17 | INFO     | api.rabbitmq_handler:publish_task:127 - Published task: e3a794af-a2c0-4729-8acd-d5df17849350
2025-01-25 15:45:32 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:45:32 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:45:32 | INFO     | __main__:main:332 - Starting API server...
2025-01-25 15:45:32 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:45:32 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:45:32 | INFO     | __main__:setup:85 - Initialized API with device: cpu
2025-01-25 15:45:32 | INFO     | __main__:run_consumer:278 - Starting Video Enhancer in consumer mode...
2025-01-25 15:45:32 | INFO     | api.rabbitmq_handler:consume_tasks:179 - Started consuming from queue: video_tasks.tasks
2025-01-25 15:45:32 | INFO     | __main__:process_video_task:199 - Processing video of size 1.5MB
2025-01-25 15:45:34 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:45:34 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:45:34 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:45:34 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:45:34 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:45:34 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:45:34 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: True
  Output Dir: /home/jovyan/video-enhancer/outputs
  Real-ESRGAN Dir: /home/jovyan/video-enhancer/Real-ESRGAN
  Log Dir: /home/jovyan/video-enhancer/logs
  Input Path: Not set
)
2025-01-25 15:45:34 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-25 15:45:34 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:45:34 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:45:34 | INFO     | __mp_main__:setup:85 - Initialized API with device: cuda:0
2025-01-25 15:45:34 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:45:34 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:45:34 | INFO     | __mp_main__:setup:85 - Initialized API with device: cuda:0
2025-01-25 15:45:34 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:45:34 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:45:34 | INFO     | __mp_main__:setup:85 - Initialized API with device: cuda:0
2025-01-25 15:45:34 | INFO     | api.storage:__init__:21 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-25 15:45:34 | INFO     | api.rabbitmq_handler:_connect:90 - Connected to RabbitMQ successfully
2025-01-25 15:45:34 | INFO     | __mp_main__:setup:85 - Initialized API with device: cuda:0
2025-01-30 15:56:46 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: False
  Output Dir: /home/jovyan/Saka/outputs
  Real-ESRGAN Dir: /home/jovyan/Saka/Real-ESRGAN
  Log Dir: /home/jovyan/Saka/logs
  Input Path: Not set
)
2025-01-30 15:56:46 | INFO     | scripts.realesrgan:setup_realesrgan:105 - Removing empty Real-ESRGAN directory...
2025-01-30 15:56:46 | INFO     | scripts.realesrgan:setup_realesrgan:112 - Cloning Real-ESRGAN repository...
2025-01-30 15:56:48 | INFO     | scripts.realesrgan:setup_realesrgan:129 - Installing dependencies with uv...
2025-01-30 15:56:48 | INFO     | scripts.realesrgan:setup_realesrgan:138 - Installing Real-ESRGAN in editable mode...
2025-01-30 15:56:49 | SUCCESS  | scripts.realesrgan:setup_realesrgan:146 - Real-ESRGAN setup completed successfully
2025-01-30 15:56:49 | INFO     | api.storage:__init__:15 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-30 15:56:49 | INFO     | __main__:setup:217 - Initialized API with device: cpu
2025-01-30 15:58:21 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: False
  Output Dir: /home/jovyan/Saka/outputs
  Real-ESRGAN Dir: /home/jovyan/Saka/Real-ESRGAN
  Log Dir: /home/jovyan/Saka/logs
  Input Path: Not set
)
2025-01-30 15:58:21 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-30 15:58:21 | INFO     | api.storage:__init__:15 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-30 15:58:21 | INFO     | __main__:setup:217 - Initialized API with device: cpu
2025-01-30 15:59:46 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: False
  Output Dir: /home/jovyan/Saka/outputs
  Real-ESRGAN Dir: /home/jovyan/Saka/Real-ESRGAN
  Log Dir: /home/jovyan/Saka/logs
  Input Path: Not set
)
2025-01-30 15:59:46 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-30 15:59:46 | INFO     | api.storage:__init__:15 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-30 15:59:46 | INFO     | __main__:setup:217 - Initialized API with device: cpu
2025-01-30 15:59:46 | INFO     | __main__:main:336 - Starting API server with Prometheus metrics...
2025-01-30 15:59:48 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: False
  Output Dir: /home/jovyan/Saka/outputs
  Real-ESRGAN Dir: /home/jovyan/Saka/Real-ESRGAN
  Log Dir: /home/jovyan/Saka/logs
  Input Path: Not set
)
2025-01-30 15:59:48 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-30 15:59:48 | INFO     | api.storage:__init__:15 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-30 15:59:48 | INFO     | __mp_main__:setup:217 - Initialized API with device: cuda:0
2025-01-30 15:59:49 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: False
  Output Dir: /home/jovyan/Saka/outputs
  Real-ESRGAN Dir: /home/jovyan/Saka/Real-ESRGAN
  Log Dir: /home/jovyan/Saka/logs
  Input Path: Not set
)
2025-01-30 15:59:49 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-30 15:59:49 | INFO     | api.storage:__init__:15 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-30 15:59:49 | INFO     | __mp_main__:setup:217 - Initialized API with device: cuda:0
2025-01-30 15:59:49 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: False
  Output Dir: /home/jovyan/Saka/outputs
  Real-ESRGAN Dir: /home/jovyan/Saka/Real-ESRGAN
  Log Dir: /home/jovyan/Saka/logs
  Input Path: Not set
)
2025-01-30 15:59:49 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-30 15:59:49 | INFO     | api.storage:__init__:15 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-30 15:59:49 | INFO     | __mp_main__:setup:217 - Initialized API with device: cuda:0
2025-01-30 15:59:49 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: False
  Output Dir: /home/jovyan/Saka/outputs
  Real-ESRGAN Dir: /home/jovyan/Saka/Real-ESRGAN
  Log Dir: /home/jovyan/Saka/logs
  Input Path: Not set
)
2025-01-30 15:59:49 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-30 15:59:49 | INFO     | api.storage:__init__:15 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-30 15:59:49 | INFO     | __mp_main__:setup:217 - Initialized API with device: cuda:0
2025-01-30 16:04:40 | INFO     | api.storage:upload_video:34 - Uploading video (2750710 bytes) to videos/enhanced_cf459360-e701-4577-aab4-b9accc77831a.mp4
2025-01-30 16:04:41 | INFO     | api.storage:upload_video:34 - Uploading video (2750710 bytes) to videos/enhanced_2cd7b7e3-f6af-42ab-b5dd-d7fbf334fb57.mp4
2025-01-30 16:04:41 | INFO     | api.storage:upload_video:34 - Uploading video (2750710 bytes) to videos/enhanced_ec823833-75f4-46ea-a83b-3e4ae6d1ff4c.mp4
2025-01-30 16:04:41 | INFO     | api.storage:upload_video:34 - Uploading video (2750710 bytes) to videos/enhanced_42bcb661-dc72-40b7-9558-d9729e15e9e7.mp4
2025-01-30 16:04:41 | INFO     | api.storage:upload_video:46 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/enhanced_cf459360-e701-4577-aab4-b9accc77831a.mp4
2025-01-30 16:04:41 | INFO     | api.storage:upload_video:46 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/enhanced_2cd7b7e3-f6af-42ab-b5dd-d7fbf334fb57.mp4
2025-01-30 16:04:41 | INFO     | api.storage:upload_video:46 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/enhanced_ec823833-75f4-46ea-a83b-3e4ae6d1ff4c.mp4
2025-01-30 16:04:41 | INFO     | api.storage:upload_video:46 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/enhanced_42bcb661-dc72-40b7-9558-d9729e15e9e7.mp4
2025-01-30 16:05:05 | INFO     | api.storage:upload_video:34 - Uploading video (2750710 bytes) to videos/enhanced_cc622c03-3bb9-438d-a546-5b89a64212ca.mp4
2025-01-30 16:05:06 | INFO     | api.storage:upload_video:46 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/enhanced_cc622c03-3bb9-438d-a546-5b89a64212ca.mp4
2025-01-30 16:05:49 | INFO     | __main__:main:346 - Server shutdown complete
2025-01-30 16:05:52 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: False
  Output Dir: /home/jovyan/Saka/outputs
  Real-ESRGAN Dir: /home/jovyan/Saka/Real-ESRGAN
  Log Dir: /home/jovyan/Saka/logs
  Input Path: Not set
)
2025-01-30 16:05:52 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-30 16:05:52 | INFO     | api.storage:__init__:15 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-30 16:05:52 | INFO     | __main__:setup:217 - Initialized API with device: cpu
2025-01-30 16:05:52 | INFO     | __main__:main:346 - Starting API server with Prometheus metrics...
2025-01-30 16:05:55 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: False
  Output Dir: /home/jovyan/Saka/outputs
  Real-ESRGAN Dir: /home/jovyan/Saka/Real-ESRGAN
  Log Dir: /home/jovyan/Saka/logs
  Input Path: Not set
)
2025-01-30 16:05:55 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-30 16:05:55 | INFO     | api.storage:__init__:15 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-30 16:05:55 | INFO     | __mp_main__:setup:217 - Initialized API with device: cuda:0
2025-01-30 16:05:55 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: False
  Output Dir: /home/jovyan/Saka/outputs
  Real-ESRGAN Dir: /home/jovyan/Saka/Real-ESRGAN
  Log Dir: /home/jovyan/Saka/logs
  Input Path: Not set
)
2025-01-30 16:05:55 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-30 16:05:55 | INFO     | api.storage:__init__:15 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-30 16:05:55 | INFO     | __mp_main__:setup:217 - Initialized API with device: cuda:0
2025-01-30 16:05:55 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: False
  Output Dir: /home/jovyan/Saka/outputs
  Real-ESRGAN Dir: /home/jovyan/Saka/Real-ESRGAN
  Log Dir: /home/jovyan/Saka/logs
  Input Path: Not set
)
2025-01-30 16:05:55 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-30 16:05:55 | INFO     | api.storage:__init__:15 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-30 16:05:55 | INFO     | __mp_main__:setup:217 - Initialized API with device: cuda:0
2025-01-30 16:05:55 | INFO     | scripts.realesrgan:__init__:183 - Initializing VideoUpscaler with settings: UpscalerSettings(
  Model: realesr-animevideov3
  Scale: 4x
  Tile Size: 0
  Face Enhance: False
  Half Precision: True
  Calculate SSIM: False
  Output Dir: /home/jovyan/Saka/outputs
  Real-ESRGAN Dir: /home/jovyan/Saka/Real-ESRGAN
  Log Dir: /home/jovyan/Saka/logs
  Input Path: Not set
)
2025-01-30 16:05:55 | INFO     | scripts.realesrgan:setup_realesrgan:108 - Real-ESRGAN repository already exists
2025-01-30 16:05:55 | INFO     | api.storage:__init__:15 - S3 handler initialized for bucket: diffusion-model-bucket
2025-01-30 16:05:55 | INFO     | __mp_main__:setup:217 - Initialized API with device: cuda:0
2025-01-30 16:06:28 | INFO     | api.storage:upload_video:34 - Uploading video (2750710 bytes) to videos/enhanced_f8de0753-5c28-4195-b6cd-4ffd270f2e15.mp4
2025-01-30 16:06:28 | INFO     | api.storage:upload_video:34 - Uploading video (2750710 bytes) to videos/enhanced_e2631fa7-93b7-4598-828d-8ef8d8d635c7.mp4
2025-01-30 16:06:28 | INFO     | api.storage:upload_video:34 - Uploading video (2750710 bytes) to videos/enhanced_1fb0d6f7-426e-4543-b5c7-3352a885de17.mp4
2025-01-30 16:06:28 | INFO     | api.storage:upload_video:34 - Uploading video (2750710 bytes) to videos/enhanced_1f570812-aced-4d13-ae85-4a6f42aa0371.mp4
2025-01-30 16:06:29 | INFO     | api.storage:upload_video:46 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/enhanced_f8de0753-5c28-4195-b6cd-4ffd270f2e15.mp4
2025-01-30 16:06:29 | INFO     | api.storage:upload_video:46 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/enhanced_e2631fa7-93b7-4598-828d-8ef8d8d635c7.mp4
2025-01-30 16:06:29 | INFO     | api.storage:upload_video:46 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/enhanced_1fb0d6f7-426e-4543-b5c7-3352a885de17.mp4
2025-01-30 16:06:29 | INFO     | api.storage:upload_video:46 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/enhanced_1f570812-aced-4d13-ae85-4a6f42aa0371.mp4
2025-01-30 16:06:56 | INFO     | api.storage:upload_video:34 - Uploading video (2750710 bytes) to videos/enhanced_a5629749-5487-4221-b6f7-318a3eaeb54d.mp4
2025-01-30 16:06:56 | INFO     | api.storage:upload_video:34 - Uploading video (2750710 bytes) to videos/enhanced_85a35120-5d36-4d70-8cf5-e4123a0cb6e3.mp4
2025-01-30 16:06:56 | INFO     | api.storage:upload_video:34 - Uploading video (2750710 bytes) to videos/enhanced_bf837252-bcc8-4f8d-9215-713805eb3a74.mp4
2025-01-30 16:06:57 | INFO     | api.storage:upload_video:46 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/enhanced_a5629749-5487-4221-b6f7-318a3eaeb54d.mp4
2025-01-30 16:06:57 | INFO     | api.storage:upload_video:46 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/enhanced_85a35120-5d36-4d70-8cf5-e4123a0cb6e3.mp4
2025-01-30 16:06:57 | INFO     | api.storage:upload_video:46 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/enhanced_bf837252-bcc8-4f8d-9215-713805eb3a74.mp4
2025-01-30 16:07:20 | INFO     | api.storage:upload_video:34 - Uploading video (2750710 bytes) to videos/enhanced_65b623be-d4c3-4790-b328-fb725e333cd5.mp4
2025-01-30 16:07:21 | INFO     | api.storage:upload_video:46 - Upload complete: https://diffusion-model-bucket.s3.ap-south-1.amazonaws.com/videos/enhanced_65b623be-d4c3-4790-b328-fb725e333cd5.mp4
